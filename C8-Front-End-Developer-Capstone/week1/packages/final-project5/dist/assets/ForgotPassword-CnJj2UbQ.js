import{r as i,j as e,S as m,B as x}from"./index-BgPfMftx.js";import{c as j,a as S,u as b,H as w,o as E}from"./index.esm-F5rMhw4R.js";import{useCapslock as g}from"./CheckCapslock-B2pc3eFJ.js";import{a as y}from"./axios-B4uVmeYG.js";import{u as k}from"./chunk-6RSEZNRH-DJ-mtPeE.js";import{T as v}from"./chunk-2OOHT3W5-CJpRdX3-.js";import{F as B,I as C}from"./chunk-6CVSDS6C-qNJvPn8p.js";import{B as P}from"./chunk-UVUR7MCU-XGr7ouz6.js";import"./chunk-DMO4EI7P-ffbJSNvT.js";import"./chunk-3Y4YXCR2-D1_PzN3D.js";import"./chunk-2GBDXOMA-DT3Pegqs.js";import"./index-CxF79Cv8.js";import"./chunk-5PH6ULNP-DzDKoMfl.js";import"./index-Bgli6ANI.js";import"./chunk-R3DH46PF-iWUMGBws.js";const R=j().shape({email:S().email("Please Enter Valid Email").required("Please Enter Your Email")}),N=()=>{const[T,c]=i.useState(""),u=g(),{register:d,handleSubmit:p,watch:h,formState:{errors:n,isValid:F},reset:I}=b({mode:"onSubmit",resolver:E(R)}),t=h("email"),l=k(),r=i.useRef();i.useEffect(()=>{const s=setTimeout(()=>{r.current&&r.current.value!==t&&(r.current=t)},100);return()=>clearTimeout(s)},[t]);const f=async s=>{try{const o={...s};let a=await y.post("http://localhost:5000/forgotpassword/send",o);a.status===200?l({title:"A verification email has been sent",description:"Please click on the link in the email.",status:"success",duration:3e3}):a.status===400&&(c(await a.text()),l({title:"User does not exist",description:"Please use another address",status:"error",duration:3e3}))}catch(o){console.error("Error:",o)}};return e.jsxs(m,{direction:"column",marginBottom:"2",justifyContent:"center",alignItems:"center",children:[e.jsx(w,{color:"teal.400",children:"Reset your password"}),e.jsxs(v,{color:"teal.400",children:["Enter your email address and weâ€™ll",e.jsx("br",{}),"send you a link to reset your password"]}),e.jsx(x,{minW:{base:"90%",md:"468px"},children:e.jsx("form",{onSubmit:p(f),children:e.jsxs(m,{spacing:4,p:"1rem",backgroundColor:"white",boxShadow:"md",children:[e.jsxs(B,{children:[e.jsx(C,{ref:r,placeholder:"email address",...d("email")}),n.email&&e.jsx("p",{children:n.email.message})]}),u?e.jsx("p",{children:"Caps Lock is active!"}):null,e.jsx(P,{borderRadius:0,type:"submit",variant:"solid",colorScheme:"teal",width:"full",children:"Submit"})]})})})]})};export{N as default};
