import{r as o,j as e,S as k,B as u,H as I}from"./index-BgPfMftx.js";import{c as N,a as n,e as T,u as A,H as G,o as U}from"./index.esm-F5rMhw4R.js";import{useCapslock as $}from"./CheckCapslock-B2pc3eFJ.js";import{a as V}from"./axios-B4uVmeYG.js";import{G as z}from"./GlobalModalContext-CEanKhtL.js";import{C as M,L as O}from"./chunk-K7XRJ7NL-Bu74VLaG.js";import{u as W}from"./chunk-6RSEZNRH-DJ-mtPeE.js";import{F as c,I as l}from"./chunk-6CVSDS6C-qNJvPn8p.js";import{I as m}from"./chunk-FKYN3ZGE-B3QWMpSL.js";import{B as Y}from"./chunk-UVUR7MCU-XGr7ouz6.js";import"./chunk-DMO4EI7P-ffbJSNvT.js";import"./index-CxF79Cv8.js";import"./index-Bgli6ANI.js";import"./chunk-3Y4YXCR2-D1_PzN3D.js";import"./chunk-2GBDXOMA-DT3Pegqs.js";import"./chunk-5PH6ULNP-DzDKoMfl.js";import"./chunk-R3DH46PF-iWUMGBws.js";const de=()=>{const[t,y]=o.useState(!1),[h,E]=o.useState(""),q=$(),v=N().shape({fname:n().required("First Name is required"),lname:n().required("Last Name is required"),email:n().email("Enter Valid Email").required("Email is required"),password:n().min(8,"At least 8 words").required("Password is required"),confirm:n().oneOf([T("password"),null],"Passwords must match").required("Confirm your password")}),{register:a,handleSubmit:P,watch:i,formState:{errors:s,isValid:D},reset:R}=A({mode:"onSubmit",resolver:U(v)}),x=i("fname"),f=i("lname"),j=i("email");i("password"),i("confirm");const F=W(),w=o.useRef(),g=o.useRef(),S=o.useRef();o.useEffect(()=>{const d=setTimeout(()=>{const r=[w,g,S],C=[x,f,j];r.forEach((p,b)=>{p.current&&p.current.value!==C[b]&&(p.current.value=C[b])})},100);return()=>clearTimeout(d)},[x,f,j]);const L=async d=>{try{let r=await V.post("http://localhost:5000/signup/register",d);r.status===400?E(await r.text()):r&&(console.log(r),F({title:"Sign Up Success",description:"You will soon be redirected",status:"success",duration:2e3}),R(),setTimeout(()=>{window.location.href="./loginrotate"},2e3))}catch(r){console.error("Error:",r)}},B=()=>y(!t),{setModalState:H}=o.useContext(z);return e.jsxs(e.Fragment,{children:[e.jsxs(k,{direction:"column",marginBottom:"2",justifyContent:"center",alignItems:"center",children:[e.jsx(G,{color:"teal.400",children:"Sign Up"}),e.jsx(u,{minW:{base:"90%",md:"468px"},children:e.jsx("form",{onSubmit:P(L),children:e.jsxs(k,{spacing:4,p:"1rem",backgroundColor:"white",boxShadow:"md",children:[e.jsxs(c,{children:[e.jsx(m,{children:e.jsx(l,{type:"text",ref:w,placeholder:"First Name",...a("fname")})}),s.fname&&e.jsx("p",{children:s.fname.message})]}),e.jsxs(c,{children:[e.jsx(m,{children:e.jsx(l,{type:"text",ref:g,placeholder:"Last Name",...a("lname")})}),s.lname&&e.jsx("p",{children:s.lname.message})]}),e.jsxs(c,{children:[e.jsx(m,{children:e.jsx(l,{type:"email",ref:S,placeholder:"Email Address",...a("email")})}),s.email&&e.jsx("p",{children:s.email.message}),h&&e.jsx("p",{children:h})]}),e.jsxs(I,{children:[e.jsx(c,{children:e.jsx(m,{children:e.jsx(l,{type:t?"text":"password",placeholder:"Password",...a("password")})})}),e.jsx(c,{children:e.jsx(m,{children:e.jsx(l,{type:t?"text":"password",placeholder:"Confirm Password",...a("confirm")})})})]}),s.password&&e.jsx("p",{children:s.password.message}),!s.password&&s.confirm&&e.jsx("p",{children:s.confirm.message}),q?e.jsx("p",{children:"Caps Lock is active!"}):null,e.jsx(M,{size:"sm",isChecked:t,onChange:B,children:t?"Hide Password":"Show Password"}),e.jsx(Y,{borderRadius:0,type:"submit",variant:"solid",colorScheme:"teal",width:"full",children:"Sign Up"})]})})})]}),e.jsx(u,{children:e.jsxs(u,{width:"fit-content",margin:"auto",children:["Already have an account? "," ",e.jsx(O,{color:"teal.500",onClick:()=>H("login"),children:"Login"})]})})]})};export{de as default};
