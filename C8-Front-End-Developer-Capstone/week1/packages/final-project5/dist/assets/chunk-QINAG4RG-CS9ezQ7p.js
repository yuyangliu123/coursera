import{f as j,j as k,r as b,a as E}from"./index-BgPfMftx.js";import{u as N}from"./index-Bgli6ANI.js";var I=j(function(r,e){const{htmlWidth:a,htmlHeight:n,alt:i,...l}=r;return k.jsx("img",{width:a,height:n,ref:e,alt:i,...l})});I.displayName="NativeImage";function S(t){const{loading:r,src:e,srcSet:a,onLoad:n,onError:i,crossOrigin:l,sizes:f,ignoreFallback:u}=t,[c,g]=b.useState("pending");b.useEffect(()=>{g(e?"loading":"pending")},[e]);const s=b.useRef(),h=b.useCallback(()=>{if(!e)return;d();const o=new Image;o.src=e,l&&(o.crossOrigin=l),a&&(o.srcset=a),f&&(o.sizes=f),r&&(o.loading=r),o.onload=m=>{d(),g("loaded"),n==null||n(m)},o.onerror=m=>{d(),g("failed"),i==null||i(m)},s.current=o},[e,l,a,f,n,i,r]),d=()=>{s.current&&(s.current.onload=null,s.current.onerror=null,s.current=null)};return N(()=>{if(!u)return c==="loading"&&h(),()=>{d()}},[c,h,u]),u?"loaded":c}var O=(t,r)=>t!=="loaded"&&r==="beforeLoadOrError"||t==="failed"&&r==="onError";function w(t,r=[]){const e=Object.assign({},t);for(const a of r)a in e&&delete e[a];return e}var y=j(function(r,e){const{fallbackSrc:a,fallback:n,src:i,srcSet:l,align:f,fit:u,loading:c,ignoreFallback:g,crossOrigin:s,fallbackStrategy:h="beforeLoadOrError",referrerPolicy:d,...o}=r,m=a!==void 0||n!==void 0,v=c!=null||g||!m,F=S({...r,crossOrigin:s,ignoreFallback:v}),x=O(F,h),p={ref:e,objectFit:u,objectPosition:f,...v?o:w(o,["onError","onLoad"])};return x?n||k.jsx(E.img,{as:I,className:"chakra-image__placeholder",src:a,...p}):k.jsx(E.img,{as:I,src:i,srcSet:l,crossOrigin:s,loading:c,referrerPolicy:d,className:"chakra-image",...p})});y.displayName="Image";export{y as I};
